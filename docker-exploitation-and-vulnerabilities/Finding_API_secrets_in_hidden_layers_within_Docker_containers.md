API secrets within the layers of containers you may have under security testing.
We can find credentials, database connection strings, and even API artifacts like source code and byte code that may have been deleted before publishing the Docker images.
The layers are When looking at a Dockerfile config, any time it executes a RUN, ADD, or COPY command it creates a new layer.
If you want to get an idea of what these layers look like, you can run this docker command:

docker image history <IMAGE NAME OR ID>

Use OWASP Tool
https://github.com/OWASP/crAPI.git
or 
docker image history <IMAGE NAME OR ID>
docker image inspect <IMAGE NAME OR ID>

# Understanding OverlayFS
OverlayFS is a virtual filesystem for Linux that allows you to combine multiple file systems into a single directory structure. It works by layering a writable filesystem on top of one or more read-only filesystems. Here's a breakdown of the concept:

Merging Layers: OverlayFS combines the contents of the underlying layers, typically a read-only layer on the bottom and a writable layer on top. The writable layer takes precedence, so any files or directories present in the writable layer will be seen instead of those in the read-only layer.

Use Cases: Common applications include live CDs, where a read-only base system is overlaid with a writable layer for user customizations, and containerization technologies like Docker, which use overlayFS to efficiently manage container layers.
Typically you will find these layers stored in /var/lib/docker/overlay2.

# Analyzing Hidden Layers with Dive
There is an open-source tool called Dive that provides an easier and more efficient way to explore the hidden layers of any Docker image.
dive <IMAGE NAME OR ID>. 

# API artifacts to look for

Few examples:
Look for environment variable files like .env.
Look for config files with API Keys, credentials, DB strings, etc. Examples include files like ./aws/credentials, appSettings.json, config.json, config.py, config.php, credentials.json, gc_api_file.json, key.json, settings.php etc.
Look for any API and web app source code or byte code. 
Consider using Daniel Miessler’s SecLists web-extensions wordlist to search for specific web-friendly source code files (https://github.com/danielmiessler/SecLists/blob/master/Discovery/Web-Content/web-extensions.txt).
Look at the final layer’s Command (Found in the Layer Details) to determine what is being run and from what directory. That will usually point to a shell script or a command line that runs an interpreter (Bash/Python/Node/Java/DotNet etc.) that runs the main application within the container image.

# Accessing Files in hidden layers
After using dive
docker image inspect <IMAGE ID OR NAME> | jq '.[].GraphDriver.Data.UpperDir + ":" + .[].GraphDriver.Data.LowerDir | split(":") | reverse'